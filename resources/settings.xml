<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<settings version="1">

    <section id="plugin.video.invidious">

        <!-- General -->
        <category id="general" label="40100">

            <!-- Instance -->
            <group id="instance" label="40110">

                <setting id="selectInstance" type="action" label="40111" help="40112">
                    <level>0</level>
                    <data>RunScript($ID,selectInstance)</data>
                    <control type="button" format="action" />
                </setting>

                <setting id="instance.uri" type="string" label="40114">
                    <level>0</level>
                    <default />
                    <constraints>
                        <allowempty>true</allowempty>
                    </constraints>
                    <control type="edit" format="string" />
                </setting>

                <setting id="instance.path" type="string" label="40115">
                    <level>0</level>
                    <default>api/v1</default>
                    <constraints>
                        <allowempty>true</allowempty>
                    </constraints>
                    <control type="edit" format="string" />
                </setting>

                <setting id="instance.timeout" type="number" label="40116">
                    <level>0</level>
                    <default>10.0</default>
                    <constraints>
                        <minimum>0.0</minimum>
                        <step>10.0</step>
                        <maximum>120.0</maximum>
                    </constraints>
                    <control type="slider" format="number" />
                </setting>

            </group>

            <group id="regional" label="40120">

                <setting id="selectRegion" type="action" label="40121">
                    <level>0</level>
                    <data>RunScript($ID,selectRegion)</data>
                    <control type="button" format="action" />
                </setting>

                <setting id="regional.region" type="string" label="40124">
                    <level>0</level>
                    <default>US</default>
                    <visible>false</visible>
                    <control type="edit" format="string" />
                </setting>

                <setting id="regional.region.text" type="string" label="40124">
                    <level>0</level>
                    <default>United States</default>
                    <enable>false</enable>
                    <control type="edit" format="string" />
                </setting>

            </group>

        </category>

        <!-- Search -->
        <category id="search" label="30102">

            <group id="history" label="40410">

                <setting id="search.history" type="boolean" label="40411">
                    <level>0</level>
                    <default>true</default>
                    <control type="toggle" />
                </setting>

            </group>

            <group id="queries" label="40420">

                <setting id="query.type" type="integer" label="40431">
                    <level>0</level>
                    <default>0</default>
                    <constraints>
                        <options>
                            <option label="30210">0</option>
                            <option label="30211">1</option>
                            <option label="30212">2</option>
                            <option label="30213">3</option>
                            <!--<option label="30214">4</option>-->
                            <!--<option label="30215">5</option>-->
                            <option label="41429">6</option>
                        </options>
                    </constraints>
                    <control type="spinner" format="string" />
                </setting>

                <setting id="query.sort" type="integer" label="40421">
                    <level>0</level>
                    <default>0</default>
                    <constraints>
                        <options>
                            <option label="41420">0</option>
                            <option label="41421">1</option>
                            <option label="41422">2</option>
                            <option label="41423">3</option>
                            <option label="41429">4</option>
                        </options>
                    </constraints>
                    <control type="spinner" format="string" />
                </setting>

            </group>

        </category>

        <!-- Interface -->
        <category id="interface" label="40200">

            <group id="home" label="40210">

                <setting id="home.feed" type="boolean" label="30101">
                    <level>0</level>
                    <default>true</default>
                    <control type="toggle" />
                </setting>

                <setting id="home.popular" type="boolean" label="30104">
                    <level>0</level>
                    <default>true</default>
                    <control type="toggle" />
                </setting>

                <setting id="home.trending" type="boolean" label="30105">
                    <level>0</level>
                    <default>true</default>
                    <control type="toggle" />
                </setting>

                <setting id="home.settings" type="boolean" label="30103">
                    <level>0</level>
                    <default>true</default>
                    <control type="toggle" />
                </setting>

            </group>

            <group id="context" label="40220">

                <setting id="ytdlp.warning" type="action" label="40224">
                    <level>0</level>
                    <control type="button" format="action">
                        <hidevalue>true</hidevalue>
                    </control>
                    <dependencies>
                        <dependency type="visible" on="property" name="infobool" operator="!is">System.AddonIsEnabled(service.yt-dlp)</dependency>
                    </dependencies>
                </setting>

                <setting id="context.fromyoutube" type="boolean" label="40221">
                    <level>0</level>
                    <default>false</default>
                    <control type="toggle" />
                    <dependencies>
                        <dependency type="enable" on="property" name="infobool" operator="is">System.AddonIsEnabled(service.yt-dlp)</dependency>
                    </dependencies>
                </setting>

                <setting id="ytdlp.settings" type="action" label="40223">
                    <level>0</level>
                    <data>Addon.OpenSettings(service.yt-dlp)</data>
                    <control type="button" format="action">
                        <close>true</close>
                    </control>
                    <dependencies>
                        <dependency type="enable" on="property" name="infobool" operator="is">System.AddonIsEnabled(service.yt-dlp)</dependency>
                        <dependency type="visible" setting="context.fromyoutube" operator="is">true</dependency>
                    </dependencies>
                </setting>

                <setting id="context.withyoutube" type="boolean" label="40222">
                    <level>0</level>
                    <default>false</default>
                    <control type="toggle" />
                </setting>

            </group>

        </category>

    </section>

</settings>
